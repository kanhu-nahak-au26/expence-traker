{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{userProfileAction}from\"../../redux/slices/users/usersSlices\";import GraphDtata from\"../../components/GraphDtata\";import calcTransaction from\"../../utils/accountStatistics\";import UserProfileStats from\"./UserProfileStats\";import LoadingComponent from\"../../components/Loading\";import ErrorDisplayMessage from\"../../components/ErrorDisplayMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var _profile$expenses,_profile$income,_profile$expenses2,_profile$income2;var dispatch=useDispatch();var history=useHistory();useEffect(function(){dispatch(userProfileAction());},[dispatch]);var state=useSelector(function(state){return state.users;});var loading=state.loading,appErr=state.appErr,serverErr=state.serverErr,userAuth=state.userAuth,profile=state.profile;//Get income statistics\nvar incResult=(profile===null||profile===void 0?void 0:profile.income)&&calcTransaction((profile===null||profile===void 0?void 0:profile.income)?profile.income:[]);//Get expense statistics\nvar expResult=(profile===null||profile===void 0?void 0:profile.expenses)&&calcTransaction(profile===null||profile===void 0?void 0:profile.expenses);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(LoadingComponent,{}):appErr||serverErr?/*#__PURE__*/_jsxs(ErrorDisplayMessage,{children:[serverErr,\" \",appErr]}):/*#__PURE__*/_jsx(\"section\",{className:\"py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative p-8 border rounded-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-6 align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid me-4 rounded-2\"//   style=\"width: 64px; height: 64px;\"\n,src:\"https://images.unsplash.com/photo-1593789382576-54f489574d26?ixlib=rb-1.2.1&q=80&fm=jpg&crop=faces&cs=tinysrgb&fit=crop&h=128&w=128\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold mb-0\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[profile===null||profile===void 0?void 0:profile.firstname,\" \",profile===null||profile===void 0?void 0:profile.lastname]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge ms-2 bg-primary-light text-primary\",children:[(profile===null||profile===void 0?void 0:(_profile$expenses=profile.expenses)===null||_profile$expenses===void 0?void 0:_profile$expenses.length)+(profile===null||profile===void 0?void 0:(_profile$income=profile.income)===null||_profile$income===void 0?void 0:_profile$income.length),\" \",\"\",\"Records Created\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:profile===null||profile===void 0?void 0:profile.email}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Date Joined: 12-Jan-1999\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return history.push({pathname:\"update-profile\",state:{user:userAuth}});},className:\"btn\",children:[\"Edit Profile\",/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-pen fs-3 m-3 text-primary\"})]})]}),/*#__PURE__*/_jsx(GraphDtata,{income:incResult===null||incResult===void 0?void 0:incResult.sumTotal,expenses:incResult===null||incResult===void 0?void 0:incResult.sumTotal})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-8\",children:\" \"}),/*#__PURE__*/_jsx(UserProfileStats,{numOfTransExp:profile===null||profile===void 0?void 0:(_profile$expenses2=profile.expenses)===null||_profile$expenses2===void 0?void 0:_profile$expenses2.length,avgExp:expResult===null||expResult===void 0?void 0:expResult.avg,totalExp:expResult===null||expResult===void 0?void 0:expResult.sumTotal,minExp:expResult===null||expResult===void 0?void 0:expResult.min,maxExp:expResult===null||expResult===void 0?void 0:expResult.max,numOfTransInc:profile===null||profile===void 0?void 0:(_profile$income2=profile.income)===null||_profile$income2===void 0?void 0:_profile$income2.length,avgInc:incResult===null||incResult===void 0?void 0:incResult.avg,totalInc:incResult===null||incResult===void 0?void 0:incResult.sumTotal,minInc:incResult===null||incResult===void 0?void 0:incResult.min,maxInc:incResult===null||incResult===void 0?void 0:incResult.max}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.push(\"/user-expenses\");},className:\"btn me-4 w-100 btn-danger d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{children:\"View Expenses History\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.push(\"/user-income\");},className:\"btn w-100 btn-outline-success d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{children:\"View Income History\"})})]})]})})})});};export default Profile;","map":{"version":3,"sources":["/home/admin1/attainu/attainu/kanhu-nahak-au26/monthly-tests/Month-07/Full-Stack/expense-tracker /client/src/pages/users/Profile.js"],"names":["React","useEffect","useDispatch","useSelector","useHistory","userProfileAction","GraphDtata","calcTransaction","UserProfileStats","LoadingComponent","ErrorDisplayMessage","Profile","dispatch","history","state","users","loading","appErr","serverErr","userAuth","profile","incResult","income","expResult","expenses","firstname","lastname","length","email","push","pathname","user","sumTotal","avg","min","max"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { userProfileAction } from \"../../redux/slices/users/usersSlices\";\nimport GraphDtata from \"../../components/GraphDtata\";\nimport calcTransaction from \"../../utils/accountStatistics\";\nimport UserProfileStats from \"./UserProfileStats\";\nimport LoadingComponent from \"../../components/Loading\";\nimport ErrorDisplayMessage from \"../../components/ErrorDisplayMessage\";\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(userProfileAction());\n  }, [dispatch]);\n  const state = useSelector(state => state.users);\n  const { loading, appErr, serverErr, userAuth, profile } = state;\n\n  //Get income statistics\n  const incResult =\n    profile?.income && calcTransaction(profile?.income ? profile.income : []);\n\n  //Get expense statistics\n  const expResult = profile?.expenses && calcTransaction(profile?.expenses);\n\n  return (\n    <>\n      {loading ? (\n        <LoadingComponent />\n      ) : appErr || serverErr ? (\n        <ErrorDisplayMessage>\n          {serverErr} {appErr}\n        </ErrorDisplayMessage>\n      ) : (\n        <section className=\"py-5\">\n          <div className=\"container\">\n            <div className=\"position-relative p-8 border rounded-2\">\n              <div className=\"d-flex mb-6 align-items-center\">\n                <img\n                  className=\"img-fluid me-4 rounded-2\"\n                  //   style=\"width: 64px; height: 64px;\"\n                  src=\"https://images.unsplash.com/photo-1593789382576-54f489574d26?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;fit=crop&amp;h=128&amp;w=128\"\n                  alt=\"\"\n                />\n                <div>\n                  <h6 className=\"fw-bold mb-0\">\n                    <span>\n                      {profile?.firstname} {profile?.lastname}\n                    </span>\n                    <span className=\"badge ms-2 bg-primary-light text-primary\">\n                      {profile?.expenses?.length + profile?.income?.length} {\"\"}\n                      Records Created\n                    </span>\n                  </h6>\n                  <p className=\"mb-0\">{profile?.email}</p>\n                  <p className=\"mb-0\">Date Joined: 12-Jan-1999</p>\n                  <button\n                    onClick={() =>\n                      history.push({\n                        pathname: \"update-profile\",\n                        state: {\n                          user: userAuth,\n                        },\n                      })\n                    }\n                    className=\"btn\"\n                  >\n                    Edit Profile\n                    <i class=\"bi bi-pen fs-3 m-3 text-primary\"></i>\n                  </button>\n                </div>\n                <GraphDtata\n                  income={incResult?.sumTotal}\n                  expenses={incResult?.sumTotal}\n                />\n              </div>\n\n              <p className=\"mb-8\"> </p>\n\n              <UserProfileStats\n                numOfTransExp={profile?.expenses?.length}\n                avgExp={expResult?.avg}\n                totalExp={expResult?.sumTotal}\n                minExp={expResult?.min}\n                maxExp={expResult?.max}\n                numOfTransInc={profile?.income?.length}\n                avgInc={incResult?.avg}\n                totalInc={incResult?.sumTotal}\n                minInc={incResult?.min}\n                maxInc={incResult?.max}\n              />\n              <div className=\"d-flex align-items-center justify-content-center\">\n                <button\n                  onClick={() => history.push(\"/user-expenses\")}\n                  className=\"btn me-4 w-100 btn-danger d-flex align-items-center justify-content-center\"\n                >\n                  <span>View Expenses History</span>\n                </button>\n                <button\n                  onClick={() => history.push(\"/user-income\")}\n                  className=\"btn w-100 btn-outline-success d-flex align-items-center justify-content-center\"\n                >\n                  <span>View Income History</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}