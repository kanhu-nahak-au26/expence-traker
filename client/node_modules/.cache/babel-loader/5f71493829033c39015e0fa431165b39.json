{"ast":null,"code":"import _regeneratorRuntime from\"/home/admin1/attainu/attainu/kanhu-nahak-au26/monthly-tests/Month-07/Full-Stack/expense-tracker /client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/admin1/attainu/attainu/kanhu-nahak-au26/monthly-tests/Month-07/Full-Stack/expense-tracker /client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createAsyncThunk,createSlice,createAction}from\"@reduxjs/toolkit\";import axios from\"axios\";import baseURL from\"../../../utils/baseURL\";//fetch all expenses\nexport var fetchAccountStatsAction=createAsyncThunk(\"account/fetch\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload,_ref){var _getState,_getState$users;var rejectWithValue,getState,dispatch,user,config,_yield$axios$get,data,_error$response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue,getState=_ref.getState,dispatch=_ref.dispatch;user=(_getState=getState())===null||_getState===void 0?void 0:(_getState$users=_getState.users)===null||_getState$users===void 0?void 0:_getState$users.userAuth;config={headers:{authorization:\"Bearer \".concat(user===null||user===void 0?void 0:user.token)}};_context.prev=3;_context.next=6;return axios.get(\"\".concat(baseURL,\"/accounts-statistics\"),config);case 6:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);if(_context.t0===null||_context.t0===void 0?void 0:_context.t0.response){_context.next=15;break;}throw _context.t0;case 15:return _context.abrupt(\"return\",rejectWithValue(_context.t0===null||_context.t0===void 0?void 0:(_error$response=_context.t0.response)===null||_error$response===void 0?void 0:_error$response.data));case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());//slices\nvar expenseSlices=createSlice({name:\"account\",initialState:{},extraReducers:function extraReducers(builder){//   fetch all Expense\nbuilder.addCase(fetchAccountStatsAction.pending,function(state,action){state.loading=true;});builder.addCase(fetchAccountStatsAction.fulfilled,function(state,action){state.loading=false;state.accountDetails=action===null||action===void 0?void 0:action.payload;state.appErr=undefined;state.serverErr=undefined;});builder.addCase(fetchAccountStatsAction.rejected,function(state,action){var _action$payload,_action$error;state.loading=false;state.appErr=action===null||action===void 0?void 0:(_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.msg;state.serverErr=action===null||action===void 0?void 0:(_action$error=action.error)===null||_action$error===void 0?void 0:_action$error.msg;});}});export default expenseSlices.reducer;","map":{"version":3,"sources":["/home/admin1/attainu/attainu/kanhu-nahak-au26/monthly-tests/Month-07/Full-Stack/expense-tracker /client/src/redux/slices/accountsStats/accountStatSlices.js"],"names":["createAsyncThunk","createSlice","createAction","axios","baseURL","fetchAccountStatsAction","payload","rejectWithValue","getState","dispatch","user","users","userAuth","config","headers","authorization","token","get","data","response","expenseSlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","accountDetails","appErr","undefined","serverErr","rejected","msg","error","reducer"],"mappings":"ybAAA,OAASA,gBAAT,CAA2BC,WAA3B,CAAwCC,YAAxC,KAA4D,kBAA5D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CAEA;AACA,MAAO,IAAMC,CAAAA,uBAAuB,CAAGL,gBAAgB,CACrD,eADqD,2FAErD,iBAAOM,OAAP,6OAAkBC,eAAlB,MAAkBA,eAAlB,CAAmCC,QAAnC,MAAmCA,QAAnC,CAA6CC,QAA7C,MAA6CA,QAA7C,CACQC,IADR,YACeF,QAAQ,EADvB,qDACe,UAAYG,KAD3B,0CACe,gBAAmBC,QADlC,CAEQC,MAFR,CAEiB,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYL,IAAZ,SAAYA,IAAZ,iBAAYA,IAAI,CAAEM,KAAlB,CADN,CADI,CAFjB,uCAQ2Bb,CAAAA,KAAK,CAACc,GAAN,WAClBb,OADkB,yBAErBS,MAFqB,CAR3B,uCAQYK,IARZ,kBAQYA,IARZ,iCAYWA,IAZX,+GAcS,YAAOC,QAdhB,oFAiBWZ,eAAe,kEAAC,YAAOY,QAAR,0CAAC,gBAAiBD,IAAlB,CAjB1B,uEAFqD,oEAAhD,CAwBP;AAEA,GAAME,CAAAA,aAAa,CAAGnB,WAAW,CAAC,CAChCoB,IAAI,CAAE,SAD0B,CAEhCC,YAAY,CAAE,EAFkB,CAGhCC,aAAa,CAAE,uBAAAC,OAAO,CAAI,CACxB;AACAA,OAAO,CAACC,OAAR,CAAgBpB,uBAAuB,CAACqB,OAAxC,CAAiD,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAClED,KAAK,CAACE,OAAN,CAAgB,IAAhB,CACD,CAFD,EAGAL,OAAO,CAACC,OAAR,CAAgBpB,uBAAuB,CAACyB,SAAxC,CAAmD,SAACH,KAAD,CAAQC,MAAR,CAAmB,CACpED,KAAK,CAACE,OAAN,CAAgB,KAAhB,CACAF,KAAK,CAACI,cAAN,CAAuBH,MAAvB,SAAuBA,MAAvB,iBAAuBA,MAAM,CAAEtB,OAA/B,CACAqB,KAAK,CAACK,MAAN,CAAeC,SAAf,CACAN,KAAK,CAACO,SAAN,CAAkBD,SAAlB,CACD,CALD,EAMAT,OAAO,CAACC,OAAR,CAAgBpB,uBAAuB,CAAC8B,QAAxC,CAAkD,SAACR,KAAD,CAAQC,MAAR,CAAmB,mCACnED,KAAK,CAACE,OAAN,CAAgB,KAAhB,CACAF,KAAK,CAACK,MAAN,CAAeJ,MAAf,SAAeA,MAAf,kCAAeA,MAAM,CAAEtB,OAAvB,0CAAe,gBAAiB8B,GAAhC,CACAT,KAAK,CAACO,SAAN,CAAkBN,MAAlB,SAAkBA,MAAlB,gCAAkBA,MAAM,CAAES,KAA1B,wCAAkB,cAAeD,GAAjC,CACD,CAJD,EAKD,CAnB+B,CAAD,CAAjC,CAsBA,cAAehB,CAAAA,aAAa,CAACkB,OAA7B","sourcesContent":["import { createAsyncThunk, createSlice, createAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\";\n\n//fetch all expenses\nexport const fetchAccountStatsAction = createAsyncThunk(\n  \"account/fetch\",\n  async (payload, { rejectWithValue, getState, dispatch }) => {\n    const user = getState()?.users?.userAuth;\n    const config = {\n      headers: {\n        authorization: `Bearer ${user?.token}`,\n      },\n    };\n    try {\n      const { data } = await axios.get(\n        `${baseURL}/accounts-statistics`,\n        config\n      );\n      return data;\n    } catch (error) {\n      if (!error?.response) {\n        throw error;\n      }\n      return rejectWithValue(error?.response?.data);\n    }\n  }\n);\n\n//slices\n\nconst expenseSlices = createSlice({\n  name: \"account\",\n  initialState: {},\n  extraReducers: builder => {\n    //   fetch all Expense\n    builder.addCase(fetchAccountStatsAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchAccountStatsAction.fulfilled, (state, action) => {\n      state.loading = false;\n      state.accountDetails = action?.payload;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(fetchAccountStatsAction.rejected, (state, action) => {\n      state.loading = false;\n      state.appErr = action?.payload?.msg;\n      state.serverErr = action?.error?.msg;\n    });\n  },\n});\n\nexport default expenseSlices.reducer;\n"]},"metadata":{},"sourceType":"module"}