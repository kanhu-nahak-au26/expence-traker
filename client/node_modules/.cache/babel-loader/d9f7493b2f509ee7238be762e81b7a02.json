{"ast":null,"code":"import React,{useEffect}from\"react\";import{useFormik}from\"formik\";import{useHistory}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import*as Yup from\"yup\";import{loginUserAction}from\"../../redux/slices/users/usersSlices\";import DisabledButton from\"../../components/DisabledButton\";//form validations\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var formSchema=Yup.object({email:Yup.string().required(\"Email is required\"),password:Yup.string().required(\"Password is required\")});var Login=function Login(){//history\nvar history=useHistory();//dispatch\nvar dispatch=useDispatch();//get data from store\nvar user=useSelector(function(state){return state===null||state===void 0?void 0:state.users;});var userAppErr=user.userAppErr,userServerErr=user.userServerErr,userLoading=user.userLoading,userAuth=user.userAuth;//formik form\nvar formik=useFormik({initialValues:{email:\"\",password:\"\"},onSubmit:function onSubmit(values){dispatch(loginUserAction(values));},validationSchema:formSchema});// Redirect\nuseEffect(function(){if(userAuth){history.push(\"/profile\");}},[userAuth]);return/*#__PURE__*/_jsxs(\"section\",{style:{height:\"100vh\"},className:\"position-relative py-5  overflow-hidden bg-warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-none d-md-block position-absolute top-0 start-0 bg-dark w-75 h-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-md-none position-absolute top-0 start-0 bg-primary w-100 h-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container position-relative mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-5 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-5 fw-bold mb-4 text-white\",children:\"Keep Track of what you are spending\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"text-warning w-100\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-5 ms-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 bg-light rounded text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold mb-5\",children:\"Login to your account\"}),userAppErr||userServerErr?/*#__PURE__*/_jsxs(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:[userServerErr,\" \",userAppErr]}):null,/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:formik.values.email,onChange:formik.handleChange(\"email\"),onBlur:formik.handleBlur(\"email\"),className:\"form-control mb-2\",type:\"email\",placeholder:\"E-mail address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mb-2\",children:formik.touched.email&&formik.errors.email}),/*#__PURE__*/_jsx(\"input\",{value:formik.values.password,onChange:formik.handleChange(\"password\"),onBlur:formik.handleBlur(\"password\"),className:\"form-control mb-2\",type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mb-2\",children:formik.touched.password&&formik.errors.password}),/*#__PURE__*/_jsx(\"div\",{children:userLoading?/*#__PURE__*/_jsx(DisabledButton,{}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary py-2 w-100 mb-4\",children:\"Login\"})})]})]})})]})})]});};export default Login;","map":{"version":3,"sources":["/home/admin1/attainu/attainu/kanhu-nahak-au26/monthly-tests/Month-07/Full-Stack/expense-tracker /client/src/pages/users/Login.js"],"names":["React","useEffect","useFormik","useHistory","useDispatch","useSelector","Yup","loginUserAction","DisabledButton","formSchema","object","email","string","required","password","Login","history","dispatch","user","state","users","userAppErr","userServerErr","userLoading","userAuth","formik","initialValues","onSubmit","values","validationSchema","push","height","handleSubmit","handleChange","handleBlur","touched","errors"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport { loginUserAction } from \"../../redux/slices/users/usersSlices\";\nimport DisabledButton from \"../../components/DisabledButton\";\n\n//form validations\nconst formSchema = Yup.object({\n  email: Yup.string().required(\"Email is required\"),\n  password: Yup.string().required(\"Password is required\"),\n});\n\nconst Login = () => {\n  //history\n  const history = useHistory();\n\n  //dispatch\n  const dispatch = useDispatch();\n  //get data from store\n\n  const user = useSelector(state => state?.users);\n  const { userAppErr, userServerErr, userLoading, userAuth } = user;\n\n  //formik form\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    onSubmit: values => {\n      dispatch(loginUserAction(values));\n    },\n    validationSchema: formSchema,\n  });\n\n  // Redirect\n  useEffect(() => {\n    if (userAuth) {\n      history.push(\"/profile\");\n    }\n  }, [userAuth]);\n\n  return (\n    <section\n      style={{ height: \"100vh\" }}\n      className=\"position-relative py-5  overflow-hidden bg-warning\"\n    >\n      <div className=\"d-none d-md-block position-absolute top-0 start-0 bg-dark w-75 h-100\"></div>\n      <div className=\"d-md-none position-absolute top-0 start-0 bg-primary w-100 h-100\"></div>\n      <div className=\"container position-relative mx-auto\">\n        <div className=\"row align-items-center\">\n          <div className=\"col-12 col-lg-5 mb-5\">\n            <div>\n              <h2 className=\"display-5 fw-bold mb-4 text-white\">\n                Keep Track of what you are spending\n              </h2>\n              <hr className=\"text-warning w-100\" />\n            </div>\n          </div>\n          <div className=\"col-12 col-lg-5 ms-auto\">\n            <div className=\"p-5 bg-light rounded text-center\">\n              <span className=\"text-muted\">Sign In</span>\n              <h3 className=\"fw-bold mb-5\">Login to your account</h3>\n              {/* Display Err */}\n\n              {userAppErr || userServerErr ? (\n                <div class=\"alert alert-danger\" role=\"alert\">\n                  {userServerErr} {userAppErr}\n                </div>\n              ) : null}\n              <form onSubmit={formik.handleSubmit}>\n                <input\n                  value={formik.values.email}\n                  onChange={formik.handleChange(\"email\")}\n                  onBlur={formik.handleBlur(\"email\")}\n                  className=\"form-control mb-2\"\n                  type=\"email\"\n                  placeholder=\"E-mail address\"\n                />\n                {/* Err */}\n                <div className=\"text-danger mb-2\">\n                  {formik.touched.email && formik.errors.email}\n                </div>\n                <input\n                  value={formik.values.password}\n                  onChange={formik.handleChange(\"password\")}\n                  onBlur={formik.handleBlur(\"password\")}\n                  className=\"form-control mb-2\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n                {/* Err */}\n                <div className=\"text-danger mb-2\">\n                  {formik.touched.password && formik.errors.password}\n                </div>\n\n                <div>\n                  {userLoading ? (\n                    <DisabledButton />\n                  ) : (\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary py-2 w-100 mb-4\"\n                    >\n                      Login\n                    </button>\n                  )}\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}