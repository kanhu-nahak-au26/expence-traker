{"ast":null,"code":"import _slicedToArray from\"/home/admin1/100_JS_project/expence/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import AppPagination from\"../../components/AppPagination\";import ContentDetails from\"../../components/ContentDetails\";import ErrorDisplayMessage from\"../../components/ErrorDisplayMessage\";import LoadingComponent from\"../../components/Loading\";import{fetchAllExpAction}from\"../../redux/slices/expenses/expensesSlices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExpensesList=function ExpensesList(){var _expenseList$docs,_expenseList$docs2;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];//get expenses from store\nvar expenses=useSelector(function(state){return state.expenses;});var loading=expenses.loading,appErr=expenses.appErr,serverErr=expenses.serverErr,expenseList=expenses.expenseList;//fetch expenses\nuseEffect(function(){dispatch(fetchAllExpAction(+page));},[dispatch,page,setPage]);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(LoadingComponent,{}):appErr||serverErr?/*#__PURE__*/_jsxs(ErrorDisplayMessage,{children:[serverErr,\" \",appErr]}):/*#__PURE__*/_jsxs(\"section\",{className:\"py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative border rounded-2\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"position-absolute top-0 end-0 mt-4 me-4\",href:\"#\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-8 px-8 mb-8\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 fs-3\",children:\"Recent Expense transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Below is the history of your expense transactions records\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn  btn-outline-danger me-2 m-2\",children:\"New Expense\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-active\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Withdrawed By\"})})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Title\"})})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Description\"})})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Amount\"})})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Date\"})})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn d-flex align-items-centerr text-uppercase\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Action\"})})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):appErr||serverErr?/*#__PURE__*/_jsx(\"div\",{children:\"err\"}):(expenseList===null||expenseList===void 0?void 0:(_expenseList$docs=expenseList.docs)===null||_expenseList$docs===void 0?void 0:_expenseList$docs.length)<=0?/*#__PURE__*/_jsx(\"h1\",{children:\"No Expense Found\"}):expenseList===null||expenseList===void 0?void 0:(_expenseList$docs2=expenseList.docs)===null||_expenseList$docs2===void 0?void 0:_expenseList$docs2.map(function(exp){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ContentDetails,{item:exp},exp===null||exp===void 0?void 0:exp._id)});})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginTop:\"20px\"},children:/*#__PURE__*/_jsx(AppPagination,{setPage:setPage,pageNumber:expenseList===null||expenseList===void 0?void 0:expenseList.totalPages})})]})});};export default ExpensesList;","map":{"version":3,"sources":["/home/admin1/100_JS_project/expence/client/src/pages/expense/ExpensesList.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","AppPagination","ContentDetails","ErrorDisplayMessage","LoadingComponent","fetchAllExpAction","ExpensesList","dispatch","page","setPage","expenses","state","loading","appErr","serverErr","expenseList","docs","length","map","exp","_id","display","alignItems","justifyContent","marginTop","totalPages"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport AppPagination from \"../../components/AppPagination\";\nimport ContentDetails from \"../../components/ContentDetails\";\nimport ErrorDisplayMessage from \"../../components/ErrorDisplayMessage\";\nimport LoadingComponent from \"../../components/Loading\";\nimport { fetchAllExpAction } from \"../../redux/slices/expenses/expensesSlices\";\n\nconst ExpensesList = () => {\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(1);\n  //get expenses from store\n  const expenses = useSelector(state => state.expenses);\n  const { loading, appErr, serverErr, expenseList } = expenses;\n  //fetch expenses\n  useEffect(() => {\n    dispatch(fetchAllExpAction(+page));\n  }, [dispatch, page, setPage]);\n  return (\n    <>\n      {loading ? (\n        <LoadingComponent />\n      ) : appErr || serverErr ? (\n        <ErrorDisplayMessage>\n          {serverErr} {appErr}\n        </ErrorDisplayMessage>\n      ) : (\n        <section className=\"py-6\">\n          <div className=\"container-fluid\">\n            <div className=\"position-relative border rounded-2\">\n              <a\n                className=\"position-absolute top-0 end-0 mt-4 me-4\"\n                href=\"#\"\n              ></a>\n              <div className=\"pt-8 px-8 mb-8\">\n                <h6 className=\"mb-0 fs-3\">Recent Expense transactions</h6>\n                <p className=\"mb-0\">\n                  Below is the history of your expense transactions records\n                </p>\n                <Link to=\"/\" className=\"btn  btn-outline-danger me-2 m-2\">\n                  New Expense\n                </Link>\n              </div>\n              <table className=\"table\">\n                <thead>\n                  <tr className=\"table-active\">\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Withdrawed By</small>\n                      </button>\n                    </th>\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Title</small>\n                      </button>\n                    </th>\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Description</small>\n                      </button>\n                    </th>\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Amount</small>\n                      </button>\n                    </th>\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Date</small>\n                      </button>\n                    </th>\n                    <th scope=\"col\">\n                      <button className=\"btn d-flex align-items-centerr text-uppercase\">\n                        <small>Action</small>\n                      </button>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {loading ? (\n                    <h1>Loading...</h1>\n                  ) : appErr || serverErr ? (\n                    <div>err</div>\n                  ) : expenseList?.docs?.length <= 0 ? (\n                    <h1>No Expense Found</h1>\n                  ) : (\n                    expenseList?.docs?.map(exp => (\n                      <>\n                        <ContentDetails key={exp?._id} item={exp} />\n                      </>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              marginTop: \"20px\",\n            }}\n          >\n            <AppPagination\n              setPage={setPage}\n              pageNumber={expenseList?.totalPages}\n            />\n          </div>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default ExpensesList;\n"]},"metadata":{},"sourceType":"module"}